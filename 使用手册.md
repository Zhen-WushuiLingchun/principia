# The Principia (Alpha) - 用户手册与功能指南

**The Principia** 是下一代“生成式物理引擎”。与传统工具需要你手动放置物体不同，在这里你只需**描述**一个现象（通过文本或手写），AI 就会为你**生成**一个交互式仿真。

---

## 核心理念

> “不要构建仿真。去描述宇宙，让引擎来构建它。”
> *（批注：AI说的，感觉有点道理？）*

The Principia 结合了**推理模型**（用于理解物理定律）和**多模态模型**（用于生成代码和识别手写内容），创造了无缝的“从想法到仿真”的工作流。 *（批注：其实只是个方便的笔记项目，不过真的挺方便就是了）*

---

## 功能与使用方法

### 1. “魔法”编辑器（文本输入）
屏幕左侧是您的主要工作区。
* **做什么**：输入任何物理概念、问题或场景。
* **示例**：
    * “混沌运动的双摆。”
    * “以45度角抛出的物体做抛体运动。”
    * “洛伦兹吸引子。”
    * “一个弹簧阻尼系统。”
* **Markdown 支持**：您可以使用 Markdown 标题、列表和加粗文本来组织您的笔记。
* **LaTeX 支持**：支持编写数学公式，如 `$ E=mc^2 $`（行内）或 `$$F=ma$$`（块级）。

### 2. AI 手写识别
点击工具栏中的笔图标切换到**手写模式**。
* **画布**：左侧会出现一个绘图区域。
* **书写**：使用鼠标、手写笔或触控书写物理笔记或公式。
* **识别**：点击“识别”按钮（魔术棒图标）。AI 将把您的手写内容转换为整洁的 LaTeX/Markdown 文本并追加到编辑器中。

### 3. 生成式仿真（“播放”按钮）
这是核心功能。
* **触发**：点击出现在识别出的公式旁的**交互式徽章**（一个小脉冲点），或者直接在文本中描述场景。
* **流程**：
    1.  **分析**：推理 AI 解释物理原理。
    2.  **编码**：视觉/编码 AI 实时编写自定义 JavaScript/Three.js 仿真程序。
    3.  **执行**：代码在浏览器中安全执行，在右侧面板渲染 3D 或 2D 可视化。
* **交互性**：生成的仿真通常包含**滑块** (GUI)，可即时更改质量、重力或速度等参数。

### 4. 智能导出
您可以导出工作用于学术或文档目的。
* **格式**：
    * **TEX**：用于论文的专业 LaTeX 格式。
    * **MD**：用于网页/笔记的 Markdown 格式。
* **AI 转换**：切换格式时，AI 智能体智能重写文档结构以完美适配目标格式（例如将 Markdown 标题转换为 `\section{}`）。

### 5. 多语言支持
* **全球适配**：界面和 AI 回复会适应您的语言偏好（英语/中文）。
* **上下文感知**：如果您用中文写笔记，生成的仿真将自动使用中文标签和说明。

---

## 架构概览

The Principia 基于“双脑”架构构建：

1.  **物理学家（推理智能体）**：
    * *角色*：深度理解物理概念，推导公式，并解释“为什么”。
    * *驱动模型*：DeepSeek-V3, OpenAI o1。

2.  **工程师（视觉/编码智能体）**：
    * *角色*：可视化概念，编写代码，处理空间推理和 OCR。
    * *驱动模型*：Gemini 2.0 Flash, GPT-4o。

---

## 隐私与安全

* **自带密钥 (BYOK)**：The Principia **不**会在任何服务器上存储您的 API 密钥。它们仅严格保存在您浏览器的本地存储 (`localStorage`) 中。
* **直接通信**：您的密钥直接从后端代理发送到 AI 提供商。

---

## 未来路线图 (Alpha -> Beta) 
*（批注：看看就行，AI写的，要是真做出来了记得给我也玩玩）*

* [ ] **语音输入**：通过语音描述仿真。
* [ ] **AR/VR 支持**：在混合现实中查看仿真。
* [ ] **协作模式**：多人物理沙盒。
* [ ] **Python/Jupyter 集成**：将仿真导出为 Python 笔记本。